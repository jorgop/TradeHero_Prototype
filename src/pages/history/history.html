<ion-header class="color-header" xmlns="http://www.w3.org/1999/html">
  <ion-navbar  class="back-button" transparent>

    <button class="logout-btn" (click)="logout()" round ion-button>
      <ion-icon name="power"></ion-icon>
    </button>
    <button class="fixed-header-btn" (click)="goToImpressum()" ion-button>
      <ion-icon name="information-circle"></ion-icon>
    </button>
    <button class="fixed-header-btn" ion-button>
      <ion-icon name="settings"></ion-icon>
    </button>
  </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-refresher (ionRefresh)="hisRefresh($event)">
    <ion-refresher-content pullingText="arrow-dropdown"
                           pullingText="Aktualisieren"
                           refreshingSpinner="circles"
                           refreshingText="wird aktualisiert...">
    </ion-refresher-content>
  </ion-refresher>


  <ion-card>
    <ion-card-header *ngFor="let historyHeader of historyHeader">
      Ticket-ID: {{ticketID}}
      <br>
      <p>Erstellt am: {{historyHeader.submitDate | date: 'dd.MM.yyyy'}}
        <br>
        Abgeschlossen am: {{historyHeader.endDate | date: 'dd.MM.yyyy'}}
        <br>
        Rechungsbetrag: {{historyHeader.refund | number: '1.2-2': 'de' }}
      </p>
    </ion-card-header>
    <ion-card-content *ngFor="let historyHeader of historyHeader">
        <ion-item>
            <ion-thumbnail item-start (click)="showPhoto(historyHeader.imgFile)">
              <img src="{{historyHeader.imgFile}}" imageViewer/>
            </ion-thumbnail>
          <p>
            RechungsID: {{historyHeader.invoiceID}}
          </p>
        </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card *ngFor="let history of history" class={{history.cardClass}} >


    <ion-card-header>
     <!-- <img src="{{ history.body }}"> -->
  <div [innerHtml]=history.head></div>
    </ion-card-header>


    <ion-card-content>
      <div [innerHtml]=history.body></div>
    </ion-card-content>
  </ion-card>


  <!-- timeline testing -->

  <div class="container">
    <h1 class="project-name">Bearbeitungs-ID {{ticketID}}</h1>

    <div id="timeline">
      <div [ngClass]="(this.ticket1_status == 'false') ? 'timeline-item ticket-hidden' : 'timeline-item ticket-visable'">
        <div [ngClass]=" 'timeline-icon ' + this.ticket1_status_color"></div>
        <div class="timeline-content">
          <h2>{{ticket1_head}}</h2>
          <p>
            {{ticket1_body}}
          </p>
        </div>
      </div>

      <div [ngClass]="(this.ticket2_status == 'false') ? 'timeline-item ticket-hidden' : 'timeline-item ticket-visable'">
        <div [ngClass]=" 'timeline-icon ' + this.ticket2_status_color"></div>
        <div class="timeline-content">
          <h2>{{ticket2_head}}</h2>
          <p>
            {{ticket2_body}}
          </p>
        </div>
      </div>

      <div [ngClass]="(this.ticket3_status == 'false') ? 'timeline-item ticket-hidden' : 'timeline-item ticket-visable'">
        <div [ngClass]=" 'timeline-icon ' + this.ticket3_status_color"></div>
        <div class="timeline-content">
          <h2>{{ticket3_head}}</h2>
          <p>
            {{ticket3_body}}
          </p>
        </div>
      </div>
    </div>
  </div>

</ion-content>
